(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{1069:function(e,t){},1071:function(e,t){},1081:function(e,t){},1083:function(e,t){},1092:function(e,t){},1094:function(e,t){},1119:function(e,t){},1121:function(e,t){},1122:function(e,t){},1127:function(e,t){},1129:function(e,t){},1148:function(e,t){},1160:function(e,t){},1163:function(e,t){},1185:function(e,t){},1315:function(e,t,n){},1316:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n(0),c=n.n(r),i=n(35),s=n.n(i),o=n(49),l=n(592),u=n(236),d=n(110),j=n(593),m=n.n(j),p=n(62),b=n(54),h=n.n(b),f=n(126),x=n(41),O=n.n(x),g=n(594),v=Object(d.b)({name:"error",initialState:{formErrors:{}},reducers:{setFormErrors:function(e,t){e.formErrors=t.payload},resetFormErrors:function(e){e.formErrors={}}}}),y=v.actions,w=y.setFormErrors,N=y.resetFormErrors;function S(e){return e.error.formErrors}var C=v.reducer;function I(e){var t=JSON.stringify(e);localStorage.setItem("usersForums",t)}function P(e){return F.apply(this,arguments)}function F(){return(F=Object(f.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.post("/api/forums/getUsersForums",t);case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function W(){return(W=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P(t);case 3:return I(n=e.sent),e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var k=function(e){return W.apply(this,arguments)},T=Object(d.b)({name:"auth",initialState:{isAuthenticated:!1},reducers:{setAuthStatus:function(e){e.isAuthenticated=!0},resetAuthStatus:function(e){e.isAuthenticated=!1}}}),B=T.actions,D=B.setAuthStatus,E=B.resetAuthStatus;function z(e,t){return function(n){(function(e,t){return A.apply(this,arguments)})(e,n).then((function(e){return function(e){return _.apply(this,arguments)}(e)})).then((function(e){return function(e,t){try{if(e.length){var n=e[0]._id;t.push("/forum/".concat(n))}else t.push("/getStarted")}catch(a){console.error("@redirectUserBasedOnForumCount\n",a)}}(e,t)})).catch((function(e){return console.error("@loginUser\n",e)}))}}function A(){return(A=Object(f.a)(h.a.mark((function e(t,n){var a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.post("/api/users/login",t);case 3:return a=e.sent,n(N()),n(D()),r=Object(g.a)(a.data.token),e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(0),n(w(e.t0.response.data)),new Error("@signInUser");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function _(){return(_=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k({userId:t.userId});case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.error("@grabAndSetUsersForumsInLocalStorage\n",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function M(){return function(e){O.a.get("/api/users/deleteJWTCookie").then((function(){localStorage.clear(),e(E())})).catch((function(e){return console.error(e)}))}}function q(e){return e.auth.isAuthenticated}var J=T.reducer,R=Object(d.b)({name:"forumAuth",initialState:{passwordExists:!1},reducers:{setPublic:function(e){e.passwordExists=!1},setPrivate:function(e){e.passwordExists=!0},resetPrivacyStatus:function(e){e.passwordExists=!1}}}),U=R.actions,L=U.setPublic,V=U.setPrivate,G=U.resetPrivacyStatus;function H(e){return e.forumAuth.passwordExists}var X=R.reducer,$=Object(p.c)({auth:J,error:C,forumAuth:X}),K={key:"root",storage:m.a},Q=Object(u.a)(K,$),Y=Object(d.a)({reducer:Q,middleware:Object(d.c)({serializableCheck:!1})}),Z=n(47),ee=n(51),te=n(1363),ne=n(1352),ae=n(605),re=Object(ae.a)({palette:{primary:{light:"#607fcc",main:"#29539b",dark:"#002b6c",contrastText:"#fff"},secondary:{light:"#ffc947",main:"#ff9800",dark:"#c66900",contrastText:"#fff"}},typography:{h1:{fontFamily:"Poppins",fontSize:93,fontWeight:300,letterSpacing:-1.5},h2:{fontFamily:"Poppins",fontSize:58,fontWeight:300,letterSpacing:-.5},h3:{fontFamily:"Poppins",fontSize:46,fontWeight:400,letterSpacing:0},h4:{fontFamily:"Poppins",fontSize:33,fontWeight:400,letterSpacing:.25},h5:{fontFamily:"Poppins",fontSize:26,fontWeight:600,letterSpacing:0},h6:{fontFamily:"Poppins",fontSize:19,fontWeight:600,letterSpacing:.15},subtitle1:{fontFamily:"Poppins",fontSize:15,fontWeight:400,letterSpacing:.15},subtitle2:{fontFamily:"Poppins",fontSize:13,fontWeight:500,letterSpacing:.1},body1:{fontFamily:"Roboto",fontSize:16,fontWeight:400,letterSpacing:.5},body2:{fontFamily:"Roboto",fontSize:14,fontWeight:400,letterSpacing:.25},button:{fontFamily:"Roboto",fontSize:14,fontWeight:500,letterSpacing:1.25},overline:{fontFamily:"Roboto",fontSize:10,fontWeight:400,letterSpacing:1.5},caption:{fontFamily:"Roboto",fontSize:12,fontWeight:400,letterSpacing:.4}}}),ce=n(1365),ie=n(1354),se=n(1348),oe=n(237),le=n(1350),ue=n(1353),de=Object(se.a)((function(e){return{container:{backgroundColor:"#1E3B70",padding:e.spacing(0,10)},box:{display:"flex",flexDirection:"column",height:"100vh",justifyContent:"center",alignItems:"flex-start"},header:{color:"#ffffff",marginBottom:e.spacing(3)},subtitle:{color:"#ffffff",fontSize:20,marginBottom:e.spacing(5)},login:{backgroundColor:"#ffffff",color:e.palette.primary.main,padding:e.spacing(1,0)},signup:{borderColor:"#ffffff",color:"#ffffff",padding:e.spacing(1,0)}}})),je={textDecoration:"none",width:"100%"};var me=function(){var e=de();return Object(a.jsxs)(le.a,{component:"main",maxWidth:"xl",className:e.container,children:[Object(a.jsx)(ne.a,{}),Object(a.jsx)(ue.a,{container:!0,children:Object(a.jsx)(ue.a,{item:!0,xs:12,sm:6,children:Object(a.jsxs)(ce.a,{className:e.box,children:[Object(a.jsx)(oe.a,{variant:"h4",component:"h1",className:e.header,children:"The Forum"}),Object(a.jsx)(oe.a,{variant:"body1",className:e.subtitle,children:"A structured approach to the chaotic group chat."}),Object(a.jsxs)(ue.a,{container:!0,spacing:4,children:[Object(a.jsx)(ue.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(Z.b,{to:"/login",style:je,children:Object(a.jsx)(ie.a,{type:"submit",fullWidth:!0,variant:"contained",className:e.login,children:"Log In"})})}),Object(a.jsx)(ue.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(Z.b,{to:"/signup",style:je,children:Object(a.jsx)(ie.a,{type:"submit",fullWidth:!0,variant:"outlined",className:e.signup,children:"Sign Up"})})})]})]})})})]})},pe=n(26),be=n(45),he=n(24),fe=n(1364),xe=n(1318),Oe=Object(se.a)((function(e){return{root:{backgroundColor:"#1E3B70"},box:{alignItems:"center",display:"flex",justifyContent:"center",height:"100vh"},paper:{alignItems:"center",display:"flex",flexDirection:"column",padding:e.spacing(4,3)},form:{width:"100%",marginTop:e.spacing(2)},submit:{margin:e.spacing(3,0),padding:e.spacing(2,0)}}})),ge={textDecoration:"none"};var ve=function(e){var t=Oe(),n=Object(o.b)(),c=Object(o.c)(S),i=Object(r.useState)({username:"",password:"",errors:{}}),s=Object(he.a)(i,2),l=s[0],u=s[1];function d(e){u(Object(be.a)(Object(be.a)({},l),{},Object(pe.a)({},e.target.id,e.target.value)))}return Object(a.jsx)(ce.a,{component:"main",className:t.root,children:Object(a.jsxs)(le.a,{maxWidth:"xs",children:[Object(a.jsx)(ne.a,{}),Object(a.jsx)(ce.a,{className:t.box,children:Object(a.jsxs)(xe.a,{elevation:3,className:t.paper,children:[Object(a.jsx)(oe.a,{component:"h1",variant:"h5",children:"Log in"}),Object(a.jsxs)("form",{className:t.form,noValidate:!0,onSubmit:function(t){t.preventDefault();var a={username:l.username,password:l.password};n(z(a,e.history))},children:[Object(a.jsx)(fe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"username",label:"Username",id:"username",autoFocus:!0,onChange:d,value:l.username,error:!!c.username,helperText:c.username?c.username:null}),Object(a.jsx)(fe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onChange:d,value:l.password,error:!!c.password,helperText:c.password?c.password:null}),Object(a.jsx)(ie.a,{variant:"contained",type:"submit",fullWidth:!0,color:"primary",className:t.submit,children:"Sign In"}),Object(a.jsx)(ue.a,{container:!0,justify:"center",children:Object(a.jsx)(ue.a,{item:!0,children:Object(a.jsx)(Z.b,{to:"/signup",onClick:function(){return n(N())},style:ge,children:Object(a.jsx)(oe.a,{variant:"body2",color:"primary",children:"Don't have an account? Sign Up"})})})})]})]})})]})})},ye=Object(se.a)((function(e){return{root:{backgroundColor:"#1E3B70"},box:{alignItems:"center",display:"flex",justifyContent:"center",height:"100vh"},paper:{alignItems:"center",display:"flex",flexDirection:"column",padding:e.spacing(4,3)},form:{width:"100%",marginTop:e.spacing(2)},submit:{margin:e.spacing(3,0),padding:e.spacing(2,0)}}})),we={textDecoration:"none"};var Ne=function(e){var t=ye(),n=Object(o.b)(),c=Object(o.c)(S),i=Object(r.useState)({name:"",username:"",email:"",password:"",password2:""}),s=Object(he.a)(i,2),l=s[0],u=s[1];function d(e){u(Object(be.a)(Object(be.a)({},l),{},Object(pe.a)({},e.target.id,e.target.value)))}return Object(a.jsx)(ce.a,{component:"main",className:t.root,children:Object(a.jsxs)(le.a,{maxWidth:"xs",children:[Object(a.jsx)(ne.a,{}),Object(a.jsx)(ce.a,{className:t.box,children:Object(a.jsxs)(xe.a,{elevation:3,className:t.paper,children:[Object(a.jsx)(oe.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(a.jsxs)("form",{className:t.form,noValidate:!0,onSubmit:function(t){t.preventDefault();var a,r,c={name:l.name,username:l.username,email:l.email,password:l.password,password2:l.password2};n((a=c,r=e.history,function(e){O.a.post("/api/users/signup",a).then((function(){e(N()),r.push("/login")})).catch((function(t){return e(w(t.response.data))}))}))},children:[Object(a.jsx)(fe.a,{variant:"outlined",name:"name",required:!0,fullWidth:!0,label:"Name",id:"name",margin:"normal",autoFocus:!0,onChange:d,value:l.name,error:!!c.name,helperText:c.name?c.name:null}),Object(a.jsx)(fe.a,{variant:"outlined",name:"username",required:!0,fullWidth:!0,label:"Username",id:"username",margin:"normal",onChange:d,value:l.username,error:!!c.username,helperText:c.username?c.username:null}),Object(a.jsx)(fe.a,{variant:"outlined",name:"email",required:!0,fullWidth:!0,label:"Email Address",id:"email",margin:"normal",onChange:d,value:l.email,error:!!c.email,helperText:c.email?c.email:null}),Object(a.jsx)(fe.a,{variant:"outlined",name:"password",required:!0,fullWidth:!0,label:"Password",id:"password",type:"password",margin:"normal",onChange:d,value:l.password,error:!!c.password,helperText:c.password?c.password:null}),Object(a.jsx)(ie.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Sign Up"}),Object(a.jsx)(ue.a,{container:!0,justify:"center",children:Object(a.jsx)(ue.a,{item:!0,children:Object(a.jsx)(Z.b,{to:"/login",onClick:function(){return n(N())},style:we,children:Object(a.jsx)(oe.a,{variant:"body2",color:"primary",children:"Already have an account? Log in"})})})})]})]})})]})})},Se=Object(se.a)((function(e){return{container:{backgroundColor:"#1E3B70",padding:e.spacing(0,10)},box:{display:"flex",flexDirection:"column",height:"100vh",justifyContent:"center",alignItems:"flex-start"},header:{color:"#ffffff",marginBottom:e.spacing(3)}}}));var Ce=function(){var e=Se();return Object(a.jsxs)(le.a,{component:"main",maxWidth:"xl",className:e.container,children:[Object(a.jsx)(ne.a,{}),Object(a.jsx)(ue.a,{container:!0,children:Object(a.jsx)(ue.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(ce.a,{className:e.box,children:Object(a.jsx)(oe.a,{variant:"h4",component:"h1",className:e.header,children:"Page Not Found"})})})})]})},Ie=n(12);var Pe=function(e){var t=e.component,n=Object(Ie.a)(e,["component"]),r=Object(o.c)(q);return Object(a.jsx)(ee.b,Object(be.a)(Object(be.a)({},n),{},{render:function(e){return r?Object(a.jsx)(t,Object(be.a)({},e)):Object(a.jsx)(ee.a,{to:"/login"})}}))},Fe=n(234),We=n.n(Fe),ke=(n(364),n(13)),Te=n(1356),Be=n(596),De=n.n(Be),Ee=(n(716),n(595)),ze=n.n(Ee),Ae=new(n(336).JSDOM)("").window,_e=ze()(Ae),Me=Object(se.a)((function(e){return{paper:{padding:e.spacing(3)},margin:{marginBottom:e.spacing(3)},buttonContainer:{display:"flex",alignItems:"center",justifyContent:"space-between"}}}));var qe=function(e){var t=Me(),n=Object(r.useState)(""),c=Object(he.a)(n,2),i=c[0],s=c[1],o=Object(r.useState)(""),l=Object(he.a)(o,2),u=l[0],d=l[1],j=Object(r.useState)(!1),m=Object(he.a)(j,2),p=m[0],b=m[1],h=Object(r.useState)("Create new post"),f=Object(he.a)(h,2),x=f[0],g=f[1],v=Object(r.useState)(!1),y=Object(he.a)(v,2),w=y[0],N=y[1];function S(){b(!p),N(!w)}return Object(r.useEffect)((function(){g(p?"Title":"Create new post")}),[p]),Object(a.jsx)(ue.a,{item:!0,xs:12,children:Object(a.jsx)(xe.a,{className:Object(ke.a)(t.paper,t.margin),children:Object(a.jsxs)(ce.a,{children:[p&&Object(a.jsx)(oe.a,{variant:"h6",className:t.margin,children:"Create New Post"}),Object(a.jsxs)("form",{noValidate:!0,onSubmit:function(t){t.preventDefault();var n=_e.sanitize(i),a=_e.sanitize(u);O.a.post("/api/posts/create",{title:a,content:n,forumId:e.forumId}).then((function(){e.updateForumPosts()})).catch((function(e){return console.error(e)})),s(""),d(""),b(!p),N(!w)},children:[Object(a.jsx)(fe.a,{className:Object(ke.a)(Object(pe.a)({},t.margin,p)),id:"outlined-basic",label:x,variant:"outlined",fullWidth:!0,value:u,onChange:function(e){d(e.target.value)},onClick:w?null:S,required:p}),p&&Object(a.jsx)(We.a,{className:t.margin,theme:"snow",value:i,onChange:s,placeholder:"Create a post..."}),p&&Object(a.jsxs)(ce.a,{className:t.buttonContainer,children:[Object(a.jsx)(ie.a,{type:"submit",variant:"contained",color:"primary",children:"Post"}),Object(a.jsx)(Te.a,{onClick:S,children:Object(a.jsx)(De.a,{})})]})]})]})})})},Je=n(1357),Re=n(1368),Ue=Object(se.a)((function(e){return{paper:{"&::before":{content:'""',position:"absolute",top:"-10px",right:"18px",borderBottom:"5px solid white",borderRight:"5px solid transparent",borderLeft:"5px solid transparent",borderTop:"5px solid transparent",zIndex:"10"},position:"absolute",top:e.spacing(10),right:e.spacing(3)},padding:{padding:e.spacing(2)},link:{color:"black",textDecoration:"none"}}}));var Le=function(e){var t=Ue(),n=Object(r.useState)({fullName:"",username:""}),c=Object(he.a)(n,2),i=c[0],s=c[1],l=Object(o.b)();return Object(r.useEffect)((function(){O.a.get("/api/users/getUsernameInfo").then((function(e){s(Object(be.a)({},e.data))})).catch((function(e){return console.error(e)}))}),[]),Object(a.jsxs)(xe.a,{className:t.paper,style:{visibility:e.showPopup?"visible":"hidden"},children:[Object(a.jsx)(ce.a,{className:t.padding,children:Object(a.jsxs)(ue.a,{container:!0,spacing:2,children:[Object(a.jsx)(ue.a,{item:!0,children:Object(a.jsx)(Re.a,{})}),Object(a.jsxs)(ue.a,{item:!0,children:[Object(a.jsx)(oe.a,{children:i.fullName}),Object(a.jsxs)(oe.a,{children:["@",i.username]})]})]})}),Object(a.jsx)(Je.a,{}),Object(a.jsx)(ce.a,{className:t.padding,children:Object(a.jsx)(ie.a,{fullWidth:!0,onClick:function(){l(M())},children:"Log out"})})]})},Ve=n(79),Ge=n(1358),He=n(1367),Xe=n(1359),$e=n(599),Ke=n.n($e),Qe=n(598),Ye=n.n(Qe),Ze=n(1355),et=n(1360),tt=n(601),nt=n.n(tt),at=n(1362),rt=n(1361),ct=n(597),it=n.n(ct),st=n(600),ot=n.n(st),lt=240,ut=Object(se.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),height:e.spacing(10)},appBarShift:{marginLeft:lt,width:"calc(100% - ".concat(lt,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},appBarNav:{width:"100%",alignItems:"center",display:"flex",justifyContent:"flex-end"},appBarToolbar:{height:"100%"},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:lt,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:lt,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:{transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(9)},toolbar:{display:"flex",alignItems:"center",justifyContent:"flex-end",height:e.spacing(10)},paper:{padding:e.spacing(3)},profileIcon:{position:"relative"},linkStyles:{color:"black",textDecoration:"none"},listItem:{padding:e.spacing(2)}}}));var dt=function(e){var t,n,c=ut(),i=Object(Ve.a)(),s=Object(r.useState)(!1),o=Object(he.a)(s,2),l=o[0],u=o[1],d=e.forumId,j=Object(r.useState)(null),m=Object(he.a)(j,2),p=m[0],b=m[1];Object(r.useEffect)((function(){O.a.post("/api/forums/getForumName",{forumId:d}).then((function(e){var t=e.data;b(t)})).catch((function(e){return console.error(e)}))}),[d]);var h=JSON.parse(localStorage.getItem("usersForums")),f=Object(r.useState)(!1),x=Object(he.a)(f,2),g=x[0],v=x[1];return Object(a.jsxs)(ce.a,{children:[Object(a.jsx)(Ge.a,{position:"fixed",className:Object(ke.a)(c.appBar,Object(pe.a)({},c.appBarShift,l)),children:Object(a.jsxs)(Xe.a,{className:c.appBarToolbar,children:[Object(a.jsx)(Te.a,{color:"inherit","aria-label":"open drawer",onClick:function(){u(!0)},edge:"start",className:Object(ke.a)(c.menuButton,Object(pe.a)({},c.hide,l)),children:Object(a.jsx)(it.a,{})}),p&&Object(a.jsx)(oe.a,{variant:"h6",children:p}),Object(a.jsx)(ce.a,{className:c.appBarNav,children:Object(a.jsxs)(ce.a,{children:[Object(a.jsx)(Te.a,{disableRipple:!0,disableFocusRipple:!0,size:"small",className:c.profileIcon,onClick:function(){v(!g)},children:Object(a.jsx)(Re.a,{alt:"forum profile picture",src:""})}),Object(a.jsx)(Le,{showPopup:g})]})})]})}),Object(a.jsxs)(He.a,{variant:"permanent",className:Object(ke.a)(c.drawer,(t={},Object(pe.a)(t,c.drawerOpen,l),Object(pe.a)(t,c.drawerClose,!l),t)),classes:{paper:Object(ke.a)((n={},Object(pe.a)(n,c.drawerOpen,l),Object(pe.a)(n,c.drawerClose,!l),n))},children:[Object(a.jsx)("div",{className:c.toolbar,children:Object(a.jsx)(Te.a,{onClick:function(){u(!1)},children:"rtl"===i.direction?Object(a.jsx)(Ye.a,{}):Object(a.jsx)(Ke.a,{})})}),Object(a.jsx)(Je.a,{}),Object(a.jsxs)(Ze.a,{children:[h.map((function(e){var t="/forum/".concat(e._id),n=e.name;return Object(a.jsx)(Z.b,{to:t,className:c.linkStyles,children:Object(a.jsxs)(et.a,{className:c.listItem,children:[Object(a.jsx)(rt.a,{children:Object(a.jsx)(Re.a,{alt:n,src:"",children:Object(a.jsx)(ot.a,{})})}),Object(a.jsx)(at.a,{primary:n})]})},e._id)})),Object(a.jsx)(Z.b,{to:"/join",className:c.linkStyles,children:Object(a.jsxs)(et.a,{className:c.listItem,children:[Object(a.jsx)(rt.a,{children:Object(a.jsx)(Re.a,{children:Object(a.jsx)(nt.a,{})})}),Object(a.jsx)(at.a,{primary:"Add Forum"})]})})]})]})]})},jt=n(235),mt=n.n(jt),pt=n(602),bt=n.n(pt),ht=Object(se.a)((function(e){return{post:{padding:e.spacing(3),marginBottom:e.spacing(3)},postInfoMargin:{marginBottom:e.spacing(2)},postInfoText:{color:"gray",fontSize:"14px"},titleMargin:{marginBottom:e.spacing(1)},iconStyle:{fontSize:20,marginRight:e.spacing(1),color:"gray"},comments:{display:"flex",alignItems:"center",justifyContent:"space-between",width:e.spacing(4)}}}));var ft=function(e){var t=ht(),n={__html:e.content},r=mt()(e.publishDate).fromNow();return Object(a.jsx)(ue.a,{item:!0,xs:12,children:Object(a.jsxs)(xe.a,{className:t.post,children:[Object(a.jsx)(ce.a,{className:t.postInfoMargin,children:Object(a.jsxs)(oe.a,{variant:"body1",className:t.postInfoText,children:[e.parentForumName," \u2022 Posted by ",e.author," ",r]})}),Object(a.jsxs)(ce.a,{children:[Object(a.jsx)(oe.a,{variant:"h5",className:t.titleMargin,children:e.title}),Object(a.jsx)(oe.a,{variant:"body1",component:"div",dangerouslySetInnerHTML:n})]}),Object(a.jsx)(ce.a,{children:Object(a.jsxs)(ce.a,{className:t.comments,children:[Object(a.jsx)(bt.a,{className:t.iconStyle})," ",e.numOfComments]})})]})})},xt=Object(se.a)((function(e){return{noPosts:{display:"flex",alignItems:"center",justifyContent:"center",padding:e.spacing(3)},noPostsText:{fontWeight:"500",color:"gray"},linkStyle:{textDecoration:"none"}}}));var Ot=function(e){var t=xt();return Object(a.jsx)(ue.a,{item:!0,xs:12,children:e.forumPosts&&e.forumPosts.length?e.forumPosts.map((function(e){var n="/post/".concat(e._id);return Object(a.jsx)(Z.b,{to:n,className:t.linkStyle,children:Object(a.jsx)(ft,{parentForumId:e.parentForum._id,parentForumName:e.parentForum.name,postId:e._id,title:e.title,content:e.content,author:e.author.name,authorId:e.author._id,publishDate:e.date,numOfComments:e.comments.length})},e._id)})):Object(a.jsx)(xe.a,{className:t.noPosts,children:Object(a.jsx)(oe.a,{variant:"body1",className:t.noPostsText,children:"*tumbleweeds passing through the digital horizon*"})})})},gt=n(80),vt=Object(se.a)((function(e){return{paper:{padding:e.spacing(3)},margin:{marginTop:e.spacing(2)}}}));var yt=function(e){var t=vt(),n=e.forumId,c=Object(r.useState)(null),i=Object(he.a)(c,2),s=i[0],o=i[1];return Object(r.useEffect)((function(){O.a.post("/api/forums/getForumMembers",{forumId:n}).then((function(e){var t=e.data;o(Object(gt.a)(t))})).catch((function(e){return console.error(e)}))}),[n]),Object(a.jsxs)(xe.a,{className:t.paper,children:[Object(a.jsx)(oe.a,{variant:"h6",children:"Members"}),Object(a.jsx)(Je.a,{className:t.margin}),s&&s.map((function(e){return Object(a.jsx)(oe.a,{variant:"body1",className:t.margin,children:e.name},e._id)}))]})};var wt=Object(se.a)((function(e){return{root:{display:"flex"},toolbar:Object(be.a)({},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(5,3,3,3)},paper:{padding:e.spacing(3)}}}));var Nt=function(){var e=wt(),t=Object(ee.g)().pathname.split("/")[2],n=Object(r.useState)(null),c=Object(he.a)(n,2),i=c[0],s=c[1];return Object(r.useEffect)((function(){O.a.post("/api/forums/getForumPosts",{forumId:t}).then((function(e){var t=e.data;s(t)})).catch((function(e){return console.error(e)}))}),[t]),Object(a.jsxs)(ce.a,{className:e.root,children:[Object(a.jsx)(ne.a,{}),t&&Object(a.jsx)(dt,{forumId:t}),Object(a.jsxs)(ce.a,{component:"main",className:e.content,children:[Object(a.jsx)("div",{className:e.toolbar}),Object(a.jsxs)(ue.a,{container:!0,spacing:3,children:[Object(a.jsxs)(ue.a,{item:!0,container:!0,xs:12,sm:8,children:[t&&Object(a.jsx)(qe,{forumId:t,updateForumPosts:function(){O.a.post("/api/forums/getForumPosts",{forumId:t}).then((function(e){var t=e.data;s(t)})).catch((function(e){return console.error(e)}))}}),i&&Object(a.jsx)(Ot,{forumPosts:i})]}),Object(a.jsx)(ue.a,{item:!0,xs:12,sm:4,children:t&&Object(a.jsx)(yt,{forumId:t})})]})]})]})},St=Object(se.a)((function(e){return{root:{backgroundColor:"#1E3B70"},box:{alignItems:"center",display:"flex",justifyContent:"center",height:"100vh"},paper:{alignItems:"center",display:"flex",flexDirection:"column",padding:e.spacing(4,3)},form:{width:"100%",marginTop:e.spacing(2)},submit:{margin:e.spacing(3,0),padding:e.spacing(2,0)}}})),Ct={textDecoration:"none"};var It=function(e){var t=St(),n=Object(o.b)(),c=Object(o.c)(H),i=Object(o.c)(S),s=Object(r.useState)({name:"",password:"",errors:{}}),l=Object(he.a)(s,2),u=l[0],d=l[1];function j(e){d(Object(be.a)(Object(be.a)({},u),{},Object(pe.a)({},e.target.id,e.target.value)))}return Object(a.jsx)(ce.a,{component:"main",className:t.root,children:Object(a.jsxs)(le.a,{maxWidth:"xs",children:[Object(a.jsx)(ne.a,{}),Object(a.jsx)(ce.a,{className:t.box,children:Object(a.jsxs)(xe.a,{elevation:3,className:t.paper,children:[Object(a.jsx)(oe.a,{component:"h1",variant:"h5",children:"Join a Forum"}),Object(a.jsxs)("form",{className:t.form,noValidate:!0,onSubmit:function(t){t.preventDefault();var a={name:u.name};c&&(a.password=u.password),n(function(e,t){return function(n){O.a.post("/api/forums/join",e).then((function(e){n(N()),k({userId:e.data.userId}).then((function(){var a=e.data.isPublic,r=e.data.forumId;a?(n(L()),t.push("/forum/".concat(r))):e.data.userIsAuthenticated?t.push("/forum/".concat(r)):n(V())})).catch((function(e){return console.error(e)}))})).catch((function(e){return n(w(e.response.data))}))}}(a,e.history))},children:[Object(a.jsx)(fe.a,{variant:"outlined",name:"name",required:!0,fullWidth:!0,label:"Forum Name",id:"name",margin:"normal",autoFocus:!0,onChange:j,value:u.name,error:!!i.forumName,helperText:i.forumName?i.forumName:null}),c&&Object(a.jsx)(fe.a,{variant:"outlined",name:"password",required:!0,fullWidth:!0,label:"Password",id:"password",type:"password",margin:"normal",onChange:j,value:u.password,error:!!i.password,helperText:i.password?i.password:null}),Object(a.jsx)(ie.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Join"}),Object(a.jsx)(ue.a,{container:!0,justify:"center",children:Object(a.jsx)(ue.a,{item:!0,children:Object(a.jsx)(Z.b,{to:"/create",onClick:function(){n(N()),n(G())},style:Ct,children:Object(a.jsx)(oe.a,{variant:"body2",color:"primary",children:"Create a Forum"})})})})]})]})})]})})},Pt=n(603),Ft=n.n(Pt),Wt=n(604),kt=n.n(Wt),Tt=Object(se.a)((function(e){return{root:{backgroundColor:"#1E3B70"},box:{alignItems:"center",display:"flex",justifyContent:"center",height:"100vh"},paper:{alignItems:"center",display:"flex",flexDirection:"column",padding:e.spacing(4,3),width:"80%"},form:{width:"100%",marginTop:e.spacing(2)},toggle:{alignItems:"center",display:"flex",justifyContent:"space-between",marginBottom:e.spacing(2)},submit:{marginBottom:e.spacing(3),padding:e.spacing(2,0)},margin:{marginBottom:e.spacing(2)},gridItem:{paddingBottom:0},warningMessageContainer:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",bottom:e.spacing(5),width:"100%"},warningMessage:{backgroundColor:"rgb(255, 0, 19)",borderRadius:e.spacing(.5),color:"white",display:"flex",alignItems:"center",justifyContent:"space-around",padding:e.spacing(2)},warningText:{margin:e.spacing(0,2)},iconStyles:{color:"white"}}})),Bt={textDecoration:"none"};var Dt=function(e){var t=Tt(),n=Object(o.b)(),c=Object(o.c)(S),i=Object(r.useState)({name:"",password:"",isPublic:!0,errors:{}}),s=Object(he.a)(i,2),l=s[0],u=s[1];function d(e){u(Object(be.a)(Object(be.a)({},l),{},Object(pe.a)({},e.target.id,e.target.value)))}function j(e){var t=null;"true"===e.currentTarget.value?t=!0:"false"===e.currentTarget.value&&(t=!1),u(Object(be.a)(Object(be.a)({},l),{},{isPublic:t}))}return Object(a.jsxs)(ce.a,{component:"main",className:t.root,children:[c.limit&&Object(a.jsx)(ce.a,{className:t.warningMessageContainer,children:Object(a.jsxs)(ce.a,{className:t.warningMessage,children:[Object(a.jsx)(Ft.a,{className:t.iconStyles}),Object(a.jsx)(oe.a,{className:t.warningText,children:c.limit}),Object(a.jsx)(Te.a,{size:"small",children:Object(a.jsx)(kt.a,{onClick:function(){return n(N())},fontSize:"small",className:t.iconStyles})})]})}),Object(a.jsxs)(le.a,{maxWidth:"xs",children:[Object(a.jsx)(ne.a,{}),Object(a.jsx)(ce.a,{className:t.box,children:Object(a.jsxs)(xe.a,{elevation:3,className:t.paper,children:[Object(a.jsx)(oe.a,{component:"h1",variant:"h5",className:t.margin,children:"Create a Forum"}),Object(a.jsxs)("form",{className:t.form,noValidate:!0,onSubmit:function(t){t.preventDefault();var a={name:l.name,isPublic:l.isPublic};l.isPublic||(a.password=l.password),n(function(e,t){return function(n){O.a.post("/api/forums/create",e).then((function(e){n(N());var a="/forum/".concat(e.data.forumId);k({userId:e.data.userId}).then((function(){return t.push(a)})).catch((function(e){return console.error(e)}))})).catch((function(e){return n(w(e.response.data))}))}}(a,e.history))},children:[Object(a.jsx)(fe.a,{className:t.margin,variant:"outlined",name:"name",required:!0,fullWidth:!0,label:"Forum Name",id:"name",autoFocus:!0,onChange:d,value:l.name,error:!!c.name,helperText:c.name?c.name:null}),!l.isPublic&&Object(a.jsx)(fe.a,{className:t.margin,variant:"outlined",name:"password",required:!0,fullWidth:!0,label:"Password",id:"password",type:"password",onChange:d,value:l.password,error:!!c.password,helperText:c.password?c.password:null}),Object(a.jsxs)(ue.a,{container:!0,spacing:2,className:t.toggle,children:[Object(a.jsx)(ue.a,{item:!0,xs:6,children:Object(a.jsx)(ie.a,{fullWidth:!0,onClick:j,variant:l.isPublic?"contained":"outlined",color:l.isPublic?"secondary":"default",value:"true",children:"Public"})}),Object(a.jsx)(ue.a,{item:!0,xs:6,children:Object(a.jsx)(ie.a,{fullWidth:!0,onClick:j,variant:l.isPublic?"outlined":"contained",color:l.isPublic?"default":"secondary",value:"false",children:"Private"})})]}),Object(a.jsx)(ie.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Create"}),Object(a.jsx)(ue.a,{container:!0,justify:"center",children:Object(a.jsx)(ue.a,{item:!0,children:Object(a.jsx)(Z.b,{to:"/join",onClick:function(){return n(N())},style:Bt,children:Object(a.jsx)(oe.a,{variant:"body2",color:"primary",children:"Join a Forum"})})})})]})]})})]})]})},Et=Object(se.a)((function(e){return{root:{backgroundColor:"#1E3B70"},box:{alignItems:"center",display:"flex",height:"100vh",justifyContent:"center"},content:{alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center"},heading:{marginBottom:e.spacing(1)},paper:{alignItems:"center",display:"flex",flexDirection:"column",padding:e.spacing(3)},grid:{marginTop:e.spacing(1)}}})),zt={textDecoration:"none"};var At=function(){var e=Et();return Object(a.jsx)(ce.a,{component:"main",className:e.root,children:Object(a.jsxs)(le.a,{maxWidth:"xs",children:[Object(a.jsx)(ne.a,{}),Object(a.jsx)(ce.a,{className:e.box,children:Object(a.jsxs)(xe.a,{elevation:3,className:e.paper,children:[Object(a.jsxs)(ce.a,{className:e.content,children:[Object(a.jsx)(oe.a,{component:"h1",variant:"h5",className:e.heading,children:"Get Started!"}),Object(a.jsx)(oe.a,{component:"h2",variant:"body1",children:"To get started, join or create a forum."})]}),Object(a.jsxs)(ue.a,{container:!0,spacing:2,className:e.grid,children:[Object(a.jsx)(ue.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(Z.b,{to:"/join",style:zt,children:Object(a.jsx)(ie.a,{variant:"contained",color:"primary",fullWidth:!0,children:"Join"})})}),Object(a.jsx)(ue.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(Z.b,{to:"/create",style:zt,children:Object(a.jsx)(ie.a,{variant:"outlined",color:"primary",fullWidth:!0,children:"Create"})})})]})]})})]})})},_t=(n(1315),Object(se.a)((function(e){return{paper:{padding:e.spacing(3)},margin:{marginBottom:e.spacing(3)},buttonContainer:{display:"flex",alignItems:"center",justifyContent:"flex-end"}}})));var Mt=function(e){var t=_t(),n=Object(r.useState)(""),c=Object(he.a)(n,2),i=c[0],s=c[1];return Object(a.jsx)(ue.a,{item:!0,xs:12,children:Object(a.jsx)(xe.a,{className:Object(ke.a)(t.paper,t.margin),children:Object(a.jsxs)("form",{noValidate:!0,onSubmit:function(t){t.preventDefault();var n=_e.sanitize(i);O.a.post("/api/posts/addComment",{content:n,postId:e.postId}).then((function(){e.updatePostCommentsAndNumOfComments()})).catch((function(e){return console.error(e)})),s("")},children:[Object(a.jsx)(We.a,{className:t.margin,theme:"snow",value:i,onChange:s,placeholder:"Leave a comment..."}),Object(a.jsx)(ce.a,{className:t.buttonContainer,children:Object(a.jsx)(ie.a,{type:"submit",variant:"contained",color:"primary",children:"Comment"})})]})})})},qt=Object(se.a)((function(e){return{comment:{padding:e.spacing(3),marginBottom:e.spacing(3)},commentInfoMargin:{marginBottom:e.spacing(2)},commentInfoText:{color:"gray",fontSize:"14px"}}}));var Jt=function(e){var t=qt(),n={__html:e.content},r=mt()(e.publishDate).fromNow();return Object(a.jsx)(ue.a,{item:!0,xs:12,children:Object(a.jsxs)(xe.a,{className:t.comment,children:[Object(a.jsx)(ce.a,{className:t.commentInfoMargin,children:Object(a.jsxs)(oe.a,{variant:"body1",className:t.commentInfoText,children:[e.author," \u2022 ",r]})}),Object(a.jsx)(ce.a,{children:Object(a.jsx)(oe.a,{variant:"body1",component:"div",dangerouslySetInnerHTML:n})})]})})};var Rt=function(e){return Object(a.jsx)(ue.a,{item:!0,xs:12,children:e.postComments.map((function(e){return Object(a.jsx)(Jt,{content:e.content,author:e.author.name,authorId:e.author._id,publishDate:e.date},e._id)}))})},Ut=Object(se.a)((function(e){return{root:{display:"flex"},toolbar:Object(be.a)({},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(5,3,3,3)},paper:{padding:e.spacing(3)}}}));var Lt=function(){var e=Ut(),t=Object(ee.g)().pathname.split("/")[2],n=Object(r.useState)(null),c=Object(he.a)(n,2),i=c[0],s=c[1],o=Object(r.useState)(null),l=Object(he.a)(o,2),u=l[0],d=l[1],j=Object(r.useState)(null),m=Object(he.a)(j,2),p=m[0],b=m[1],h=Object(r.useState)(null),f=Object(he.a)(h,2),x=f[0],g=f[1];return Object(r.useEffect)((function(){O.a.post("/api/posts/getPostInfo",{postId:t}).then((function(e){var t=e.data;s(t),g(t.comments.length),d(t.parentForum._id),b(t.comments)})).catch((function(e){return console.error(e)}))}),[t]),Object(a.jsxs)(ce.a,{className:e.root,children:[Object(a.jsx)(ne.a,{}),u&&Object(a.jsx)(dt,{forumId:u}),Object(a.jsxs)(ce.a,{component:"main",className:e.content,children:[Object(a.jsx)("div",{className:e.toolbar}),Object(a.jsxs)(ue.a,{container:!0,spacing:3,children:[Object(a.jsxs)(ue.a,{item:!0,container:!0,xs:12,sm:8,children:[i&&null!==x&&Object(a.jsx)(ft,{parentForumId:i.parentForum._id,parentForumName:i.parentForum.name,postId:i._id,title:i.title,content:i.content,author:i.author.name,authorId:i.author._id,publishDate:i.date,numOfComments:x}),t&&Object(a.jsx)(Mt,{postId:t,updatePostCommentsAndNumOfComments:function(){O.a.post("/api/posts/getPostComments",{postId:t}).then((function(e){var t=e.data;b(t.comments),g(t.comments.length)})).catch((function(e){return console.error(e)}))}}),p&&Object(a.jsx)(Rt,{postComments:p})]}),Object(a.jsx)(ue.a,{item:!0,xs:12,sm:4,children:u&&Object(a.jsx)(yt,{forumId:u})})]})]})]})};var Vt=function(){var e=Object(o.b)();function t(){return(t=Object(f.a)(h.a.mark((function t(){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.get("/api/users/validateJWT");case 2:n=t.sent,n.data&&e(M());case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(r.useEffect)((function(){!function(){t.apply(this,arguments)}()})),Object(a.jsx)(Z.a,{children:Object(a.jsxs)(te.a,{theme:re,children:[Object(a.jsx)(ne.a,{}),Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)(ee.d,{children:[Object(a.jsx)(ee.b,{exact:!0,path:"/",component:me}),Object(a.jsx)(ee.b,{exact:!0,path:"/login",component:ve}),Object(a.jsx)(ee.b,{exact:!0,path:"/signup",component:Ne}),Object(a.jsx)(Pe,{exact:!0,path:"/getStarted",component:At}),Object(a.jsx)(Pe,{exact:!0,path:"/join",component:It}),Object(a.jsx)(Pe,{exact:!0,path:"/create",component:Dt}),Object(a.jsx)(Pe,{exact:!0,path:"/forum/:id",component:Nt}),Object(a.jsx)(Pe,{exact:!0,path:"/post/:id",component:Lt}),Object(a.jsx)(ee.b,{path:"*",component:Ce})]})})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Gt=Object(u.b)(Y);s.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(o.a,{store:Y,children:Object(a.jsx)(l.a,{loading:null,persistor:Gt,children:Object(a.jsx)(Vt,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},411:function(e,t){},716:function(e,t,n){},764:function(e,t){},765:function(e,t){}},[[1316,1,2]]]);
//# sourceMappingURL=main.43785e75.chunk.js.map